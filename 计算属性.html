<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>计算属性</title>
		<script src="./js/vue.js"></script>
	</head>
	<body>
		<dev id="app">
		<div>管理员：{{fullName}}</div>
		<div>管理员：{{getFullName()}}</div>
		<div>管理员：{{fullNameNew}}</div>
		<div>总价格：{{totalPrice}}</div>
		<table>
			<th>序号</th><th>书名</th><th>价格</th>
		</table>
		</dev>
		<script>
			var app = new Vue({
				el: '#app',
				data: {
					firstName: '李',
					lastName: '菠萝',
					books: [
						{
							id: 1,
							name: 'Java讲义',
							price: 100
						},
						{
							id: 2,
							name: 'Java并发编程艺术',
							price: 34
						},
						{
							id: 3,
							name: '孤独是生命的礼物',
							price: 45
						},
						{
							id: 4,
							name: '恨着恨着就爱上了',
							price: 29
						},
					]
				},
				computed: {
					fullName: function () {
						return this.firstName + ' ' + this.lastName
					},
					totalPrice: function () {
						let result = 0
						for(let book of this.books) {
							result += book.price
						}
						return result
					},
					// 计算属性 get set  set方法不常用
					// 有缓存 性能高
					fullNameNew: {
						set: function () {
							console.log('set method run')
						},
						get: function () {
							return this.firstName + ' ' + this.lastName
						}
					}
				},
				methods: {
					// 不建议使用函数，使用计算属性，有缓存 性能高
					getFullName: function () {
						return this.firstName + ' ' + this.lastName
					}
				}
			})
		</script>
	</body>
</html>
